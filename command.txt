mkdir -p data && cd data
wget ftp://ftp.irisa.fr/local/texmex/corpus/siftsmall.tar.gz
tar -xf siftsmall.tar.gz


cd ../data_tools
make vec_to_bin
./vec_to_bin float ../data/siftsmall/siftsmall_learn.fvecs ../data/siftsmall/siftsmall_learn.fbin
./vec_to_bin float ../data/siftsmall/siftsmall_query.fvecs ../data/siftsmall/siftsmall_query.fbin

cd ../data_tools
make compute_groundtruth
./compute_groundtruth -base_path ../data/siftsmall/siftsmall_learn.fbin -query_path ../data/siftsmall/siftsmall_query.fbin -data_type float -k 100 -dist_func Euclidian -gt_path ../data/siftsmall/siftsmall-100K

cd ../algorithms/vamana
make
./neighbors -R 32 -L 64 -alpha 1.2 two_pass 0 -graph_outfile ../../data/siftsmall/siftsmall_learn_32_64 -data_type float -dist_func Euclidian -base_path ../../data/siftsmall/siftsmall_learn.fbin

cd ../algorithms/vamana
make
./neighbors -R 32 -L 64 -a 1.2 -graph_path ../../data/siftsmall/siftsmall_learn_32_64 -query_path ../../data/siftsmall/siftsmall_query.fbin -gt_path ../../data/siftsmall/siftsmall-100K -data_type float -dist_func Euclidian -base_path ../../data/siftsmall/siftsmall_learn.fbin




in the build directory
build the graph index:
./main -R 32 -L 64 -alpha 1.2 two_pass 0 -graph_outfile ../data/siftsmall/siftsmall_learn_32_64 -data_type float -dist_func Euclidian -base_path ../data/siftsmall/siftsmall_learn.fbin

retrieval:
./main -R 32 -L 64 -a 1.2 -graph_path ../data/siftsmall/siftsmall_learn_32_64 -query_path ../data/siftsmall/siftsmall_query.fbin -gt_path ../data/siftsmall/siftsmall-100K -data_type float -dist_func Euclidian -base_path ../data/siftsmall/siftsmall_learn.fbin
